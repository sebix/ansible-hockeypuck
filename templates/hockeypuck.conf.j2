# SPDX-FileCopyrightText: 2022 Intevation GmbH

[hockeypuck]
loglevel="{{ hockeypuck_loglevel }}"
logfile="{{ hockeypuck_logfile }}"
indexTemplate="{{ hockeypuck_index_template }}"
vindexTemplate="{{ hockeypuck_vindex_template }}"
statsTemplate="{{ hockeypuck_stats_template }}"
webroot="{{ hockeypuck_webroot }}"
{% if hockeypuck_contact is defined %}
contact="{{ hockeypuck_contact }}"
{% endif %}
hostname="{{ hockeypuck_hostname }}"

[hockeypuck.hkp]
bind=":11371"
logRequestDetails={{ hockeypuck_log_request_details }}

[hockeypuck.hkp.queries]
selfSignedOnly=false
keywordSearchDisabled=false

[hockeypuck.openpgp]
maxKeyLength=1048576
maxPacketLength=8192

[hockeypuck.openpgp.db]
driver="postgres-jsonb"
dsn="database=hockeypuck user=hockeypuck host=/var/run/postgresql port=5432 sslmode=disable"

[hockeypuck.conflux.recon.leveldb]
path="{{ hockeypuck_recondb }}"
{% if hockeypuck_peers is defined %}

{% for peer in hockeypuck_peers -%}
[hockeypuck.conflux.recon.partner.peer{{ loop.index0 }}]
httpAddr="{{ peer }}:11371"
reconAddr="{{ peer }}:11370"
{% endfor -%}
{% endif %}
